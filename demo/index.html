<html>
<head>
 <script src="../dist/ajtalk.js" type="text/javascript"></script>
 <script type="text/javascript">
 function doInput()
 {
	var text = document.getElementById("inputField").value;
	var result = ajtalk.execute(text);
	if (result == null)
		return;
	document.getElementById("outputField").innerHTML += result + "\r\n";
 }
 
 function showExample(name)
 {
	var example = document.getElementById(name).innerHTML;
	document.getElementById("inputField").value = example;
 }
 </script>
 <style>
 .example {
	display: none;
 }
 </style>
</head>
<body>
<h1>AjTalk in Javascript</h1>
<table style="width: 100%">
<tr>
<td style="width: 50%; vertical-align: top;">
<textarea style="width: 100%" rows="10" id="inputField">
</textarea>
<br />
<input type="button" onclick="doInput()" value="doIt"></input>
</td>
<td style="width: 50%; vertical-align: top;">
<textarea style="width: 100%" rows="10" id="outputField">
</textarea>
</td>
</tr>
</table>

<h2>Examples</h2>
<ul>
	<li>
		<a href='#' onclick='showExample("compilesimplemethod")'>Compile Simple Method</a>
	</li>
	<li>
		<a href='#' onclick='showExample("simplesubclass")'>Simple Subclass with Methods</a>
	</li>
	<li>
		<a href='#' onclick='showExample("domalerthello")'>DOM alert Hello World</a>
	</li>
	<li>
		<a href='#' onclick='showExample("domhello")'>DOM append Hello World</a>
	</li>
</ul>

<div id='domalerthello' class='example'>
Global napply: 'alert' with: { 'Hello world' }
</div>
<div>
<div id='compilesimplemethod' class='example'>
Object compileMethod: 'zero ^0'.
Object new zero
</div>
<div id='simplesubclass' class='example'>
Object subclass: 'Point' instanceVariableNames: 'x y' classVariableNames: ''.
Point compileMethod: 'x ^x.'.
Point compileMethod: 'x: aValue x := aValue'.
Point compileMethod: 'y ^y.'.
Point compileMethod: 'y: aValue y := aValue'.
p := Point new.
p x: 10.
p x
</div>
<div id='domhello' class='example'>
document := (Global nat: 'document').
body := document nat: 'body'.
newDiv := document napply: 'createElement' with: { 'div' }.
newContent := document napply: 'createTextNode' with: { 'Hello, world' }.
newDiv napply: 'appendChild' with: { newContent }.
body napply: 'appendChild' with: { newDiv }.
</div>
</body>
</html>